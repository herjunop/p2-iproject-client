{"remainingRequest":"C:\\Users\\herju\\Documents\\nairobi-fox\\Phase-2\\p2-iproject-client\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\herju\\Documents\\nairobi-fox\\Phase-2\\p2-iproject-client\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\herju\\Documents\\nairobi-fox\\Phase-2\\p2-iproject-client\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\herju\\Documents\\nairobi-fox\\Phase-2\\p2-iproject-client\\client\\src\\views\\BookPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\herju\\Documents\\nairobi-fox\\Phase-2\\p2-iproject-client\\client\\src\\views\\BookPage.vue","mtime":1629920344817},{"path":"C:\\Users\\herju\\Documents\\nairobi-fox\\Phase-2\\p2-iproject-client\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\herju\\Documents\\nairobi-fox\\Phase-2\\p2-iproject-client\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\herju\\Documents\\nairobi-fox\\Phase-2\\p2-iproject-client\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\herju\\Documents\\nairobi-fox\\Phase-2\\p2-iproject-client\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJCb29rUGFnZSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc2VydmF0aW9uOiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBwbGFjZURhdGE6IGZ1bmN0aW9uIHBsYWNlRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnBsYWNlRGF0YTsKICAgIH0sCiAgICB0b2RheTogZnVuY3Rpb24gdG9kYXkoKSB7CiAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBkZCA9IHRvZGF5LmdldERhdGUoKTsKICAgICAgdmFyIG1tID0gdG9kYXkuZ2V0TW9udGgoKSArIDE7IC8vSmFudWFyeSBpcyAwIHNvIG5lZWQgdG8gYWRkIDEgdG8gbWFrZSBpdCAxIQoKICAgICAgdmFyIHl5eXkgPSB0b2RheS5nZXRGdWxsWWVhcigpOwoKICAgICAgaWYgKGRkIDwgMTApIHsKICAgICAgICBkZCA9ICcwJyArIGRkOwogICAgICB9CgogICAgICBpZiAobW0gPCAxMCkgewogICAgICAgIG1tID0gJzAnICsgbW07CiAgICAgIH0KCiAgICAgIHRvZGF5ID0geXl5eSArICctJyArIG1tICsgJy0nICsgZGQgKyAnVDAwOjAwJzsKICAgICAgcmV0dXJuIHRvZGF5OwogICAgfSwKICAgIHdlYXRoZXJEYXRhOiBmdW5jdGlvbiB3ZWF0aGVyRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLndlYXRoZXJEYXRhOwogICAgfSwKICAgIHRvU3RyaW5nRGF0ZTogZnVuY3Rpb24gdG9TdHJpbmdEYXRlKHVuaXgpIHsKICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IHVuaXggKiAxMDAwOwogICAgICB2YXIgZGF0ZU9iamVjdCA9IG5ldyBEYXRlKG1pbGxpc2Vjb25kcyk7CiAgICAgIHJldHVybiBkYXRlT2JqZWN0LnRvTG9jYWxlU3RyaW5nKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRCb29raW5nOiBmdW5jdGlvbiBhZGRCb29raW5nKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWRkQm9va2luZycsIHsKICAgICAgICByZXNlcnZhdGlvblRpbWU6IHRoaXMucmVzZXJ2YXRpb24sCiAgICAgICAgUGxhY2VJZDogdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgIH0pOwogICAgfSwKICAgIHdlYXRoZXJGb3JlY2FzdDogZnVuY3Rpb24gd2VhdGhlckZvcmVjYXN0KHBheWxvYWQpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3dlYXRoZXJGb3JlY2FzdCcsIHBheWxvYWQpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdmZXRjaEJ5SWQnLCB7CiAgICAgIGlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["BookPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,SAAA;AACA,KAHA;AAIA,IAAA,KAJA,mBAIA;AACA,UAAA,KAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,EAAA,GAAA,KAAA,CAAA,OAAA,EAAA;AACA,UAAA,EAAA,GAAA,KAAA,CAAA,QAAA,KAAA,CAAA,CAHA,CAGA;;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,WAAA,EAAA;;AACA,UAAA,EAAA,GAAA,EAAA,EAAA;AACA,QAAA,EAAA,GAAA,MAAA,EAAA;AACA;;AACA,UAAA,EAAA,GAAA,EAAA,EAAA;AACA,QAAA,EAAA,GAAA,MAAA,EAAA;AACA;;AAEA,MAAA,KAAA,GAAA,IAAA,GAAA,GAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,QAAA;AACA,aAAA,KAAA;AACA,KAlBA;AAmBA,IAAA,WAnBA,yBAmBA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA;AACA,KArBA;AAsBA,IAAA,YAtBA,wBAsBA,IAtBA,EAsBA;AACA,UAAA,YAAA,GAAA,IAAA,GAAA,IAAA;AACA,UAAA,UAAA,GAAA,IAAA,IAAA,CAAA,YAAA,CAAA;AACA,aAAA,UAAA,CAAA,cAAA,EAAA;AACA;AA1BA,GAPA;AAmCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA;AACA,QAAA,eAAA,EAAA,KAAA,WADA;AAEA,QAAA,OAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AAFA,OAAA;AAIA,KANA;AAQA,IAAA,eARA,2BAQA,OARA,EAQA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,iBAAA,EAAA,OAAA;AACA;AAVA,GAnCA;AA+CA,EAAA,OA/CA,qBA+CA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,WAAA,EAAA;AAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AAAA,KAAA;AACA;AAjDA,CAAA","sourcesContent":["<template>\r\n<div class=\"container\">\r\n    <div class=\"row justify-content-center\">\r\n        <div class=\"col-9 mt-5 \">\r\n            <div class=\"card\">\r\n            <img\r\n                class=\"card-img-top\"\r\n            />\r\n            <div class=\"card-body\">\r\n                <h5 class=\"card-title\">{{ placeData.name }}</h5>\r\n                <p class=\"card-text\">Location: {{ placeData.location }}</p>\r\n                <p class=\"card-text\">\r\n                Phone Number: {{ placeData.phoneNumber }}\r\n                </p>\r\n                <form @submit.prevent=\"addBooking\">\r\n\r\n                <label for=\"meeting-time\">Choose a time for your reservation:</label>\r\n\r\n                <input type=\"datetime-local\" id=\"meeting-time\"\r\n                    name=\"meeting-time\" v-model=\"reservation\"\r\n                    :min=\"today\">\r\n                <button class=\"btn btn-outline-warning mx-2\" type=\"submit\">Book</button><br>\r\n                </form>\r\n                <button @click.prevent=\"weatherForecast({lat: placeData.lat, lon: placeData.lon})\" type=\"button\" class=\"btn btn-outline-primary my-1\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n                    Check weather forecast for the next 7 days\r\n                </button>\r\n                <!-- Vertically centered scrollable modal -->\r\n                <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                    <div class=\"modal-dialog modal-dialog-centered \">\r\n                        <div class=\"modal-content\">\r\n                        <div class=\"modal-header\">\r\n                            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Weather Forecast</h5>\r\n                            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                        </div>\r\n                        <div v-for=\"weather in weatherData\" :key=\"weather.dt\" class=\"modal-body\">\r\n                            {{ toStringDate(weather.dt) }} : {{ weather.weather[0].description }}\r\n                            <hr>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:\"BookPage\",\r\n    data(){\r\n        return {\r\n            reservation:''\r\n        }\r\n    },\r\n    computed:{\r\n        placeData() {\r\n          return this.$store.state.placeData\r\n        },\r\n        today() {\r\n            var today = new Date();\r\n            var dd = today.getDate();\r\n            var mm = today.getMonth()+1; //January is 0 so need to add 1 to make it 1!\r\n            var yyyy = today.getFullYear();\r\n            if(dd<10){\r\n            dd='0'+dd\r\n            } \r\n            if(mm<10){\r\n            mm='0'+mm\r\n            } \r\n\r\n            today = yyyy+'-'+mm+'-'+dd+'T00:00';\r\n            return today\r\n        },\r\n        weatherData() {\r\n            return this.$store.state.weatherData\r\n        },\r\n        toStringDate(unix) {\r\n            const milliseconds = unix * 1000\r\n            const dateObject = new Date(milliseconds)\r\n            return dateObject.toLocaleString()\r\n        }\r\n    },\r\n    methods:{\r\n        addBooking() {\r\n            this.$store.dispatch('addBooking', {\r\n                reservationTime: this.reservation,\r\n                PlaceId: this.$route.params.id\r\n            })\r\n        },\r\n\r\n        weatherForecast(payload) {\r\n            this.$store.dispatch('weatherForecast',payload)\r\n        }\r\n    },\r\n    created(){\r\n        this.$store.dispatch('fetchById', {id:this.$route.params.id})\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    label {\r\n        display: block;\r\n        font: 1rem 'Fira Sans', sans-serif;\r\n    }\r\n\r\n    input,\r\n    label {\r\n        margin: .4rem 0;\r\n    }\r\n</style>"],"sourceRoot":"src/views"}]}